{
  "__inputs": [
    {
      "name": "DS_INFLUXDB",
      "label": "InfluxDB",
      "description": "",
      "type": "datasource",
      "pluginId": "influxdb",
      "pluginName": "InfluxDB"
    }
  ],
  "__requires": [
    {
      "type": "panel",
      "id": "bargauge",
      "name": "Bar gauge",
      "version": ""
    },
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "7.3.7"
    },
    {
      "type": "panel",
      "id": "graph",
      "name": "Graph",
      "version": ""
    },
    {
      "type": "datasource",
      "id": "influxdb",
      "name": "InfluxDB",
      "version": "1.0.0"
    },
    {
      "type": "panel",
      "id": "stat",
      "name": "Stat",
      "version": ""
    },
    {
      "type": "panel",
      "id": "table",
      "name": "Table",
      "version": ""
    }
  ],
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "description": "System-wide Akka.Cluster metrics used for profiling Akka.NET performance",
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "id": null,
  "iteration": 1639101488163,
  "links": [],
  "panels": [
    {
      "collapsed": false,
      "datasource": "${DS_INFLUXDB}",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 2,
      "panels": [],
      "title": "Cluster Status",
      "type": "row"
    },
    {
      "datasource": "${DS_INFLUXDB}",
      "description": "Total number of active Akka.Cluster Members.",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 17,
        "x": 0,
        "y": 1
      },
      "id": 4,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "7.3.7",
      "targets": [
        {
          "alias": "Up",
          "groupBy": [
            {
              "params": [
                "10s"
              ],
              "type": "time"
            },
            {
              "params": [
                "linear"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.cluster.members",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT CEIL(*) FROM (SELECT mean(\"value\") FROM \"akka.net__akka.cluster.members\" WHERE (\"status\" = 'Up') AND time >= now() - 30s)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              },
              {
                "params": [
                  "ceil(value)"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [
            {
              "key": "status",
              "operator": "=",
              "value": "Up"
            }
          ],
          "tz": ""
        },
        {
          "alias": "WeaklyUp",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "linear"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.cluster.members",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT CEIL(*) FROM (SELECT mean(\"value\") FROM \"akka.net__akka.cluster.members\" WHERE (\"status\" = 'WeaklyUp') AND time >= now() - 30s)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              }
            ]
          ],
          "tags": [
            {
              "key": "status",
              "operator": "=",
              "value": "WeaklyUp"
            }
          ]
        },
        {
          "alias": "Joining",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "linear"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.cluster.members",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT CEIL(*) FROM (SELECT mean(\"value\") FROM \"akka.net__akka.cluster.members\" WHERE (\"status\" = 'Joining') AND time >= now() - 30s)",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              }
            ]
          ],
          "tags": [
            {
              "key": "status",
              "operator": "=",
              "value": "Joining"
            }
          ]
        },
        {
          "alias": "Leaving",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "linear"
              ],
              "type": "fill"
            }
          ],
          "limit": "",
          "measurement": "akka.net__akka.cluster.members",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT CEIL(*) FROM (SELECT mean(\"value\") FROM \"akka.net__akka.cluster.members\" WHERE (\"status\" = 'Leaving') AND time >= now() - 30s)",
          "rawQuery": true,
          "refId": "D",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              }
            ]
          ],
          "tags": [
            {
              "key": "status",
              "operator": "=",
              "value": "Leaving"
            }
          ]
        },
        {
          "alias": "Exiting",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "linear"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.cluster.members",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT CEIL(*) FROM (SELECT mean(\"value\") FROM \"akka.net__akka.cluster.members\" WHERE (\"status\" = 'Exiting') AND time >= now() - 30s)",
          "rawQuery": true,
          "refId": "E",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              }
            ]
          ],
          "tags": [
            {
              "key": "status",
              "operator": "=",
              "value": "Exiting"
            }
          ]
        },
        {
          "alias": "Down",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "linear"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.cluster.members",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT CEIL(*) FROM (SELECT mean(\"value\") FROM \"akka.net__akka.cluster.members\" WHERE (\"status\" = 'Down') AND time >= now() - 30s)",
          "rawQuery": true,
          "refId": "F",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              }
            ]
          ],
          "tags": [
            {
              "key": "status",
              "operator": "=",
              "value": "Down"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Active Cluster Size",
      "type": "stat"
    },
    {
      "datasource": "${DS_INFLUXDB}",
      "description": "All nodes in the cluster that are detected to be unreachable.",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 7,
        "x": 17,
        "y": 1
      },
      "id": 6,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "7.3.7",
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "linear"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.cluster.reachable",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT CEIL(*) FROM (SELECT mean(\"value\") FROM \"akka.net__akka.cluster.reachable\" WHERE (\"reachable\" = 'false') AND time >= now() - 30s)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [
            {
              "key": "reachable",
              "operator": "=",
              "value": "false"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Unreachable Nodes",
      "type": "stat"
    },
    {
      "alert": {
        "alertRuleTags": {},
        "conditions": [
          {
            "evaluator": {
              "params": [
                0
              ],
              "type": "gt"
            },
            "operator": {
              "type": "and"
            },
            "query": {
              "params": [
                "B",
                "1m",
                "now"
              ]
            },
            "reducer": {
              "params": [],
              "type": "avg"
            },
            "type": "query"
          }
        ],
        "executionErrorState": "keep_state",
        "for": "1m",
        "frequency": "30s",
        "handler": 1,
        "message": "{{B}} nodes have been unreachable for at least 1 minute.",
        "name": "Unreachable Akka.Cluster Nodes",
        "noDataState": "no_data",
        "notifications": []
      },
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_INFLUXDB}",
      "description": "Tracks all nodes by their membership status and reachability.",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 8
      },
      "hiddenSeries": false,
      "id": 8,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.3.7",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "[[tag_status]]",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "status"
              ],
              "type": "tag"
            },
            {
              "params": [
                "linear"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.cluster.members",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT max(\"value\") FROM \"akka.net__akka.cluster.members\" WHERE $timeFilter GROUP BY time($__interval), \"status\" fill(linear)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "Unreachable",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "previous"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.cluster.reachable",
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              }
            ]
          ],
          "tags": []
        }
      ],
      "thresholds": [
        {
          "colorMode": "critical",
          "fill": true,
          "line": true,
          "op": "gt",
          "value": 0
        }
      ],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Cluster Nodes by Status",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "collapsed": false,
      "datasource": "${DS_INFLUXDB}",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 15
      },
      "id": 10,
      "panels": [],
      "title": "Logging and Error Rates",
      "type": "row"
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_INFLUXDB}",
      "description": "Total aggregate logging activity per-second for each node in an Akka.NET cluster.",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 16
      },
      "hiddenSeries": false,
      "id": 12,
      "interval": "",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.3.7",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "error",
          "color": "#F2495C",
          "fill": 1
        },
        {
          "alias": "warning",
          "color": "#FF9830",
          "fill": 2
        },
        {
          "alias": "info",
          "color": "#96D98D"
        },
        {
          "alias": "debug",
          "color": "#C8F2C2"
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "[[tag_level]]",
          "groupBy": [
            {
              "params": [
                "1m"
              ],
              "type": "time"
            },
            {
              "params": [
                "level"
              ],
              "type": "tag"
            },
            {
              "params": [
                "linear"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.logs",
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            },
            {
              "condition": "AND",
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            }
          ],
          "tz": ""
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Cluster Logging Activity",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "datasource": "${DS_INFLUXDB}",
      "description": "Groups all exceptions detected in Akka.NET logs by type.",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": null,
            "filterable": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "cluster_role"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 110
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "akka_address"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 376
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 23
      },
      "id": 14,
      "options": {
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "7.3.7",
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "5m"
              ],
              "type": "time"
            },
            {
              "params": [
                "exceptiontype"
              ],
              "type": "tag"
            },
            {
              "params": [
                "akka_address"
              ],
              "type": "tag"
            },
            {
              "params": [
                "cluster_role"
              ],
              "type": "tag"
            }
          ],
          "measurement": "akka.net__akka.logs",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT count(\"value\") FROM \"akka.net__akka.logs\" WHERE (\"cluster_role\" =~ /^$role$/ AND \"akka_address\" =~ /^$address$/ AND \"exceptiontype\" =~/[.]/) AND $timeFilter GROUP BY \"exceptiontype\", \"akka_address\", \"cluster_role\"",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              }
            ]
          ],
          "tags": [
            {
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            },
            {
              "condition": "AND",
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            },
            {
              "condition": "AND",
              "key": "exceptiontype",
              "operator": "=",
              "value": "\".+\""
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Exceptions by Type",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "akka_address",
                "cluster_role",
                "exceptiontype",
                "count"
              ]
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "datasource": "${DS_INFLUXDB}",
      "description": "Total errors logged by Akka.NET over past 5 minutes, cumulative for all roles / cluster / exception types.",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 23
      },
      "id": 16,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "7.3.7",
      "targets": [
        {
          "alias": "Errors",
          "groupBy": [
            {
              "params": [
                "5m"
              ],
              "type": "time"
            },
            {
              "params": [
                "none"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.logs",
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "level",
              "operator": "=",
              "value": "error"
            },
            {
              "condition": "AND",
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            },
            {
              "condition": "AND",
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Total Errors Logged",
      "type": "stat"
    },
    {
      "collapsed": false,
      "datasource": "${DS_INFLUXDB}",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 31
      },
      "id": 20,
      "panels": [],
      "title": "Actor Metrics",
      "type": "row"
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_INFLUXDB}",
      "decimals": 0,
      "description": "The full set of Akka.NET actors running on all nodes for all roles in a cluster.",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": null,
            "filterable": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 32
      },
      "hiddenSeries": false,
      "id": 22,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": true,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.3.7",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": null,
      "repeatDirection": "h",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "Alive Actors  [ [[tag_cluster_role]] ([[tag_akka_address]])]",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "akka_address"
              ],
              "type": "tag"
            },
            {
              "params": [
                "cluster_role"
              ],
              "type": "tag"
            },
            {
              "params": [
                "previous"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "akka.net__akka.actor.created",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT sum(\"value\") FROM \"akka.net__akka.actor.created\" WHERE (\"cluster_role\" =~ /^$role$/ AND \"akka_address\" =~ /^$address$/) AND $timeFilter GROUP BY \"akka_address\", \"cluster_role\" fill(linear)",
          "rawQuery": false,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            },
            {
              "condition": "AND",
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            }
          ]
        },
        {
          "alias": "Terminated Actors  [ [[tag_cluster_role]] ([[tag_akka_address]])]",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "akka_address"
              ],
              "type": "tag"
            },
            {
              "params": [
                "cluster_role"
              ],
              "type": "tag"
            },
            {
              "params": [
                "previous"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "akka.net__akka.actor.stopped",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT sum(\"value\") FROM \"akka.net__akka.actor.stopped\" WHERE (\"cluster_role\" =~ /^$role$/ AND \"akka_address\" =~ /^$address$/) AND $timeFilter GROUP BY \"akka_address\", \"cluster_role\" fill(linear)",
          "rawQuery": false,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            },
            {
              "condition": "AND",
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            }
          ]
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Total Akka.NET Actors",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transformations": [
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "c akka.tcp://ClusterSys@phobos-web-0.phobos-web:4055": {
                "aggregations": [],
                "operation": null
              }
            }
          }
        }
      ],
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "datasource": "${DS_INFLUXDB}",
      "description": "Cumulative Akka.NET messaging throughput across all selected nodes and roles.",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 32
      },
      "id": 24,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "7.3.7",
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "linear"
              ],
              "type": "fill"
            }
          ],
          "measurement": "akka.net__akka.messages.recv",
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "rate.mean"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [
            {
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            },
            {
              "condition": "AND",
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Total Actor Throughput (msg/s)",
      "type": "stat"
    },
    {
      "datasource": "${DS_INFLUXDB}",
      "description": "Top 10 actor starts / stops by type.",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": null,
            "filterable": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byType",
              "options": "number"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "auto"
              },
              {
                "id": "noValue",
                "value": "-"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 40
      },
      "id": 18,
      "options": {
        "frameIndex": 0,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "Terminated"
          }
        ]
      },
      "pluginVersion": "7.3.7",
      "targets": [
        {
          "alias": "[[tag_actortype]] created",
          "groupBy": [
            {
              "params": [
                "5m"
              ],
              "type": "time"
            },
            {
              "params": [
                "actortype"
              ],
              "type": "tag"
            }
          ],
          "limit": "",
          "measurement": "akka.net__akka.actor.created",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT count(\"value\") AS \"Created\" FROM \"akka.net__akka.actor.created\" WHERE (\"akka_address\" =~ /^$address$/ AND \"cluster_role\" =~ /^$role$/) GROUP BY time(5m), \"actortype\" LIMIT 10",
          "rawQuery": false,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              },
              {
                "params": [
                  "Created"
                ],
                "type": "alias"
              }
            ]
          ],
          "tags": [
            {
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            },
            {
              "condition": "AND",
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            }
          ]
        },
        {
          "groupBy": [
            {
              "params": [
                "5m"
              ],
              "type": "time"
            },
            {
              "params": [
                "actortype"
              ],
              "type": "tag"
            }
          ],
          "limit": "",
          "measurement": "akka.net__akka.actor.stopped",
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              },
              {
                "params": [
                  "Terminated"
                ],
                "type": "alias"
              }
            ]
          ],
          "tags": [
            {
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            },
            {
              "condition": "AND",
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Live Actors by Type (Top 10)",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "actortype",
                "Created",
                "Terminated"
              ]
            }
          }
        },
        {
          "id": "seriesToColumns",
          "options": {
            "byField": "actortype"
          }
        }
      ],
      "type": "table"
    },
    {
      "datasource": "${DS_INFLUXDB}",
      "description": "Top 10 actor type / exception type pairs, based on the number of crashes per second observed over a 30 minute timespan.",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": null,
            "filterable": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 40
      },
      "id": 26,
      "options": {
        "showHeader": true
      },
      "pluginVersion": "7.3.7",
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "30m"
              ],
              "type": "time"
            },
            {
              "params": [
                "actortype"
              ],
              "type": "tag"
            },
            {
              "params": [
                "exceptiontype"
              ],
              "type": "tag"
            },
            {
              "params": [
                "none"
              ],
              "type": "fill"
            }
          ],
          "limit": 10,
          "measurement": "akka.net__akka.actor.restarts",
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "distinct"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "slimit": "",
          "tags": []
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Actor Crashes by Actor / Exception (Top 10)",
      "transformations": [],
      "type": "table"
    },
    {
      "datasource": "${DS_INFLUXDB}",
      "description": "Akka.NET message throughput by message type.",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 48
      },
      "id": 28,
      "options": {
        "displayMode": "gradient",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "showUnfilled": true
      },
      "pluginVersion": "7.3.7",
      "targets": [
        {
          "alias": "[[tag_messagetype]]",
          "groupBy": [
            {
              "params": [
                "5m"
              ],
              "type": "time"
            },
            {
              "params": [
                "messagetype"
              ],
              "type": "tag"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "limit": 10,
          "measurement": "akka.net__akka.messages.recv",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT mean(\"rate.mean\") FROM \"akka.net__akka.messages.recv\" WHERE (\"akka_address\" =~ /^$address$/ AND \"cluster_role\" =~ /^$role$/) AND $timeFilter GROUP BY time(5m), \"messagetype\" fill(null) LIMIT 10",
          "rawQuery": false,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "rate.mean"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [
            {
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            },
            {
              "condition": "AND",
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Akka.NET Message Throughput by Type  (Top 10)",
      "type": "bargauge"
    },
    {
      "datasource": "${DS_INFLUXDB}",
      "description": "Akka.NET message throughput by message type.",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 48
      },
      "id": 30,
      "options": {
        "displayMode": "gradient",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "showUnfilled": true
      },
      "pluginVersion": "7.3.7",
      "targets": [
        {
          "alias": "[[tag_messagetype]]",
          "groupBy": [
            {
              "params": [
                "5m"
              ],
              "type": "time"
            },
            {
              "params": [
                "messagetype"
              ],
              "type": "tag"
            },
            {
              "params": [
                "0"
              ],
              "type": "fill"
            }
          ],
          "limit": 10,
          "measurement": "akka.net__akka.messages.recv",
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "count.meter"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              },
              {
                "params": [],
                "type": "cumulative_sum"
              }
            ]
          ],
          "tags": [
            {
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            },
            {
              "condition": "AND",
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Akka.NET Message Totals by Type  (Top 10 over 5 minutes)",
      "type": "bargauge"
    },
    {
      "datasource": "${DS_INFLUXDB}",
      "description": "Akka.NET message processing latencies by actor / message type. Values are in milliseconds.",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": null,
            "filterable": false
          },
          "decimals": 4,
          "mappings": [],
          "min": -3,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 56
      },
      "id": 32,
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "mean (mean)"
          }
        ]
      },
      "pluginVersion": "7.3.7",
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "5m"
              ],
              "type": "time"
            },
            {
              "params": [
                "actortype"
              ],
              "type": "tag"
            },
            {
              "params": [
                "messagetype"
              ],
              "type": "tag"
            }
          ],
          "limit": 10,
          "measurement": "akka.net__akka.messages.latency",
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "mean"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [
            {
              "key": "akka_address",
              "operator": "=~",
              "value": "/^$address$/"
            },
            {
              "condition": "AND",
              "key": "cluster_role",
              "operator": "=~",
              "value": "/^$role$/"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Message Processing Latencies by Type (Top 10)",
      "transformations": [
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "actortype": {
                "aggregations": [],
                "operation": "groupby"
              },
              "mean": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "messagetype": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        }
      ],
      "type": "table"
    }
  ],
  "refresh": "10s",
  "schemaVersion": 26,
  "style": "dark",
  "tags": [
    "akka.net",
    "phobos"
  ],
  "templating": {
    "list": [
      {
        "allValue": null,
        "current": {},
        "datasource": "${DS_INFLUXDB}",
        "definition": "",
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "tags",
        "options": [],
        "query": "SHOW TAG KEYS",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {},
        "datasource": "${DS_INFLUXDB}",
        "definition": "",
        "error": null,
        "hide": 0,
        "includeAll": true,
        "label": "Role",
        "multi": true,
        "name": "role",
        "options": [],
        "query": "SHOW TAG VALUES WITH KEY=\"cluster_role\"",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {},
        "datasource": "${DS_INFLUXDB}",
        "definition": "",
        "error": null,
        "hide": 0,
        "includeAll": true,
        "label": "address",
        "multi": true,
        "name": "address",
        "options": [],
        "query": "SHOW TAG VALUES  WITH KEY = \"akka_address\" ",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "now-5m",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "Akka.NET Cluster + Phobos Metrics (Influx Data Source)",
  "uid": "k_srkKsMz",
  "version": 19
}