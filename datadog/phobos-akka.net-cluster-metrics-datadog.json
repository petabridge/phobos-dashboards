{"title":"Akka.Cluster Metrics and Status","description":"","widgets":[{"id":5186181404310320,"definition":{"title":"Cluster Status","type":"group","layout_type":"ordered","widgets":[{"id":608204519904482,"definition":{"title":"Up","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"avg:Akka.NET.akka.cluster.members.gauge.value{status:up}","aggregator":"avg"}],"autoscale":true,"precision":0}},{"id":4029195276399106,"definition":{"title":"WeaklyUp","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"avg:Akka.NET.akka.cluster.members.gauge.value{status:weaklyup}","aggregator":"avg"}],"autoscale":true,"precision":0}},{"id":2636277250178444,"definition":{"title":"Joining","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"avg:Akka.NET.akka.cluster.members.gauge.value{status:joining}","aggregator":"avg"}],"autoscale":true,"precision":0}},{"id":266129724310144,"definition":{"title":"Leaving","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"avg:Akka.NET.akka.cluster.members.gauge.value{status:leaving}","aggregator":"avg"}],"autoscale":true,"precision":0}},{"id":4995580184674300,"definition":{"title":"Exiting","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"avg:Akka.NET.akka.cluster.members.gauge.value{status:exiting}","aggregator":"avg"}],"autoscale":true,"precision":0}},{"id":2970419279880540,"definition":{"title":"Down","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"avg:Akka.NET.akka.cluster.members.gauge.value{status:down}","aggregator":"avg"}],"autoscale":true,"precision":0}},{"id":78312806918124,"definition":{"title":"Unreachable","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"avg:Akka.NET.akka.cluster.reachable.gauge.value{reachable:false}","aggregator":"avg","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<=","palette":"white_on_green","value":0}]}],"autoscale":true,"precision":0}},{"id":652788401399832,"definition":{"title":"Cluster Nodes by Status","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"q":"avg:Akka.NET.akka.cluster.members.gauge.value{*} by {status}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}}]}},{"id":8289578796259032,"definition":{"title":"Logging and Error Rates","type":"group","layout_type":"ordered","widgets":[{"id":7817897741002224,"definition":{"title":"Cluster Logging Activity","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"q":"autosmooth(avg:Akka.NET.akka.logs.counter.value{$address,$Role} by {level}.as_count())","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":121001245767790,"definition":{"title":"Exceptions by Type","title_size":"16","title_align":"left","type":"query_table","requests":[{"q":"top(exclude_null(sum:Akka.NET.akka.logs.counter.value{$address,$Role} by {exceptiontype,cluster_role,akka_address}.as_count()), 10, 'mean', 'desc')","alias":"Total Exception Count","limit":10,"order":"desc","aggregator":"avg"}]}},{"id":7491418707592930,"definition":{"title":"Total Error Logged (as Rate over Timeframe)","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"avg:Akka.NET.akka.logs.counter.value{level:error,$address,$Role}.as_rate()","aggregator":"sum"}],"autoscale":true,"precision":0}}]}},{"id":7496223314946186,"definition":{"title":"Actor Metrics","type":"group","layout_type":"ordered","widgets":[{"id":7194169543383024,"definition":{"title":"Total Akka.NET Actors Per Node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"q":"sum:Akka.NET.akka.actor.created.counter.value{$address,$Role} by {akka_address,cluster_role}.as_count()-sum:Akka.NET.akka.actor.stopped.counter.value{$address,$Role} by {akka_address,cluster_role}.as_count()","metadata":[{"expression":"sum:Akka.NET.akka.actor.created.counter.value{$address,$Role} by {akka_address,cluster_role}.as_count()-sum:Akka.NET.akka.actor.stopped.counter.value{$address,$Role} by {akka_address,cluster_role}.as_count()","alias_name":"Live Actors Per Node"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":4237186823649708,"definition":{"title":"Total Actor Throughput (msg/s)","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"per_second(sum:Akka.NET.akka.messages.recv.meter.count.meter{$address,$Role}.as_rate())","aggregator":"avg"}],"autoscale":false,"custom_unit":"rq/s","precision":2}},{"id":5101545149322736,"definition":{"title":"Live Actors by Type (Top 10)","title_size":"16","title_align":"left","type":"query_table","requests":[{"aggregator":"max","cell_display_mode":["bar"],"q":"sum:Akka.NET.akka.actor.created.counter.value{$address,$Role} by {actortype}.as_count()","alias":"Created","limit":10,"order":"desc"},{"q":"sum:Akka.NET.akka.actor.stopped.counter.value{$address,$Role} by {actortype}.as_count()","alias":"Terminated","cell_display_mode":["bar"],"aggregator":"max"}],"has_search_bar":"auto"}},{"id":8963261864632544,"definition":{"title":"Actor Crashes by Actor / Exception (Top 10)","title_size":"16","title_align":"left","type":"query_table","requests":[{"aggregator":"sum","cell_display_mode":["bar"],"q":"sum:Akka.NET.akka.actor.restarts.counter.value{*} by {actortype, exceptiontype}.as_count()","alias":"Total Crashes","limit":10,"order":"desc"}],"has_search_bar":"auto"}},{"id":4587859339946356,"definition":{"title":"Akka.NET Message Throughput by Type (Top 10)","title_size":"16","title_align":"left","type":"query_table","requests":[{"aggregator":"avg","cell_display_mode":["bar"],"q":"per_second(sum:Akka.NET.akka.messages.recv.meter.count.meter{*} by {messagetype}.as_count())","alias":"msg/s","limit":10,"order":"desc"}],"has_search_bar":"auto"}},{"id":4333569625554228,"definition":{"title":"Akka.NET Message Totals by Type (Top 10 over 5 Minutes)","title_size":"16","title_align":"left","type":"query_table","requests":[{"aggregator":"sum","cell_display_mode":["bar"],"q":"sum:Akka.NET.akka.messages.recv.meter.count.meter{*} by {messagetype}.as_count().rollup(avg, 300)","alias":"Total","limit":10,"order":"desc"}],"has_search_bar":"auto"}}]}}],"template_variables":[{"name":"address","default":"*","prefix":"akka_address"},{"name":"Role","default":"*","prefix":"cluster_role"}],"layout_type":"ordered","is_read_only":false,"notify_list":[],"id":"zwv-b7a-sb7"}